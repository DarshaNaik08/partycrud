<div class="p-4" style="max-height: 90vh; overflow:auto;">


    <div class="col-lg-10 m-auto">
        <div class="container">
            <form [formGroup]="partyForm" (ngSubmit)="createParty()">
                <div class="mt-3 pt-4">
                    <div class="d-flex  mb-4">
                        <h2 class="style-1 font-weight-bold">Create Party</h2>
                    </div>
                    <div class="row ">
                        <div class="col-lg-4 col-md-4 col-sm-10">
                            <div class="formgroup mb-4">
                                <label class="style-5 d-flex flex-start" for="form_lastname"> Name *
                                </label>
                                <input type="text" formControlName="name"
                                    class="form-control style-2 border-0 mb-1 bg-light" required="required">
                                <div *ngIf="submitted || name.dirty || name.touched">
                                    <small class="text-danger" *ngIf="name.errors?.['required']">
                                        Name is required.
                                    </small>

                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-10">
                            <label class="style-5 d-flex flex-start" for="form_lastname"> Company Name *
                            </label>
                            <input type="text" formControlName="company_name"
                                class="form-control style-2 border-0 mb-1 bg-light" required="required">

                            <div *ngIf="submitted || company_name.dirty || company_name.touched">
                                <small class="text-danger" *ngIf="company_name.errors?.['required']">
                                    Company Name is required.
                                </small>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-4 col-sm-10">
                            <div class="formgroup mb-4">
                                <label class="style-5 d-flex flex-start" for="form_lastname">Email Address *</label>
                                <input type="text" formControlName="email"
                                    class="form-control style-2 border-0 mb-1 bg-light" required="required">
                                <div *ngIf="submitted || (email.invalid && (email.dirty || email.touched))">
                                    <small class="text-danger" *ngIf="email.errors?.['required']">
                                        Email Address is required.
                                    </small>
                                    <small class="text-danger" *ngIf="email.errors?.['req_email']">
                                        Please check the Email Address format.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Date of Birth
                                *</label>

                            <input type="date" formControlName="date_of_birth"
                                class="form-control style-2 mb-1 bg-light border-0" required="required">
                            <div
                                *ngIf="submitted || (date_of_birth.invalid && (date_of_birth.dirty || date_of_birth.touched))">
                                <small class="text-danger" *ngIf="date_of_birth.errors?.['required']">
                                    Date of birth is required.
                                </small>
                            </div>

                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Date of anniversary
                                *</label>

                            <input type="date" formControlName="anniversary_date"
                                class="form-control style-2 mb-1 bg-light border-0" required="required">
                            <div
                                *ngIf="submitted || (anniversary_date.invalid && (anniversary_date.dirty || anniversary_date.touched))">
                                <small class="text-danger" *ngIf="anniversary_date.errors?.['required']">
                                    Date of birth is required.
                                </small>
                            </div>

                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Phone Number *</label>
                            <input type="text" formControlName="telephone_no"
                                class="form-control style-2 mb-1 bg-light border-0" required="required">
                            <div
                                *ngIf="submitted || (telephone_no.invalid && (telephone_no.dirty || telephone_no.touched))">
                                <small class="text-danger" *ngIf="telephone_no.errors?.['required']">
                                    Phone number is required.
                                </small>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Mobile Number *</label>
                            <input type="text" formControlName="mobile_no"
                                class="form-control style-2 mb-1 bg-light border-0" required="required">
                            <div *ngIf="submitted || (mobile_no.invalid && (mobile_no.dirty || mobile_no.touched))">
                                <small class="text-danger" *ngIf="mobile_no.errors?.['required']">
                                    Mobile number is required.
                                </small>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">WhatsApp Number *</label>
                            <input type="text" formControlName="whatsapp_no"
                                class="form-control style-2 mb-1 bg-light border-0" required="required">
                            <div
                                *ngIf="submitted || (whatsapp_no.invalid && (whatsapp_no.dirty || whatsapp_no.touched))">
                                <small class="text-danger" *ngIf="whatsapp_no.errors?.['required']">
                                    WhatsApp number is required.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Credit limit</label>
                            <input type="text" formControlName="credit_limit"
                                class="form-control style-2 mb-1 bg-light border-0">

                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">pan_no</label>
                            <input type="text" formControlName="pan_no"
                                class="form-control style-2 mb-1 bg-light border-0">

                        </div>
                    </div>

                    <div class="col-lg-4 col-md-4 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">gstin</label>
                            <input type="text" formControlName="gstin"
                                class="form-control style-2 mb-1 bg-light border-0">

                        </div>
                    </div>
                </div>


                <div class="row mt-5">
                    <div class="col-lg-4 col-md-4 col-sm-10">

                        <label class="style-5 d-flex flex-start">Remark</label>
                        <div class="d-flex">
                            <input type="text" class="form-control border-0 style-2 bg-light w-75" id="remark"
                                formControlName="remark">
                        </div>
                    </div>
                </div>

                <div formArrayName="address">
                    <div *ngFor="let address of addressFormArray.controls; let i = index" [formGroupName]="i"
                        class="col-lg-12 col-md-6 col-sm-10">
                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Address Line 1 *</label>
                           
                            <textarea formControlName="address_line_1"
                                class="form-control style-2 mb-1 bg-light border-0" required></textarea>
                        </div>

                        <div class="formgroup mb-4">
                            <label class="style-5 d-flex flex-start">Address Line 2 *</label>
                         
                            <textarea formControlName="address_line_2"
                                class="form-control style-2 mb-1 bg-light border-0" required></textarea>
                        </div>

                        <button type="button" class="btn btn-danger" (click)="removeAddress(i)">Remove Address</button>
                    </div>
                </div>

                <button type="button" class="btn btn-primary mt-2" (click)="addAddress()">Add Address</button>

                <h3 class="mt-2 mb-2">Bank details</h3>

                <div formArrayName="bank">

                    <div *ngFor="let bank of bankFormArray.controls; let i = index" [formGroupName]="i"
                       >
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-10 formgroup mb-4">
                                <label class="style-5 d-flex flex-start">Bank IFSC Code *</label>
                                <input type="text" formControlName="bank_ifsc_code"
                                    class="form-control style-2 mb-1 bg-light border-0" required="required">
                            </div>

                            <div class="col-lg-6 col-md-6 col-sm-10 formgroup mb-4">
                                <label class="style-5 d-flex flex-start">Bank Name *</label>
                                <input type="text" formControlName="bank_name"
                                    class="form-control style-2 mb-1 bg-light border-0" required="required">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-10 formgroup mb-4">
                                <label class="style-5 d-flex flex-start">Branch Name *</label>
                                <input type="text" formControlName="branch_name"
                                    class="form-control style-2 mb-1 bg-light border-0" required="required">
                            </div>

                            <div class="col-lg-6 col-md-6 col-sm-10 formgroup mb-4">
                                <label class="style-5 d-flex flex-start">Account Number *</label>
                                <input type="text" formControlName="account_no"
                                    class="form-control style-2 mb-1 bg-light border-0" required="required">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-10 formgroup mb-4">
                                <label class="style-5 d-flex flex-start">Account Holder Name *</label>
                                <input type="text" formControlName="account_holder_name"
                                    class="form-control style-2 mb-1 bg-light border-0" required="required">

                            </div>
                        </div>
                            <button type="button" class="btn btn-danger" (click)="removeBank(i)">Remove Bank</button>                   
                    </div>
                </div>

                <button type="button" class="btn btn-primary mt-2" (click)="addBank()">Add Bank</button>



                <div class="row pb-4">
                    <div class="col-md-12">
                        <div class="d-inline-flex float-right">
                            <button
                                class="btn btn-success text-center btn-text style-1 text-white p-2 mt-2 submit">Create</button>
                        </div>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>